"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@babel/runtime/helpers/extends"),t=require("@babel/runtime/helpers/defineProperty"),r=require("@babel/runtime/helpers/objectWithoutProperties"),n=require("react"),a=require("styled-components"),i=require("@microlink/mql");const o=["accessibility","debounce","ellipsis","is","lines","text"];function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?l(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const c=e=>{let{accessibility:t=!0,debounce:a=300,ellipsis:i="…",is:l="div",lines:c=3,text:u}=e,d=r(e,o);const p=n.useRef(null),m=n.useRef("."),f=s(s({ref:p},t?{title:u}:{}),d),g=n.useMemo((()=>"string"==typeof u&&u.length>0),[u]),b=n.useCallback((()=>{var e,t,r,n;if(!g)return;const a=e=>{m.current=e,null!=p.current&&(p.current.innerText=e)};a(".");const o=((null!==(t=null===(e=p.current)||void 0===e?void 0:e.clientHeight)&&void 0!==t?t:0)+1)*c+1,l="…"===i?5:1.2*i.length;let s=0,d=0,f=u.length;for(;s<=f;){if(d=Math.floor((s+f)/2),a(u.slice(0,d)),d===u.length)return;(null!==(n=null===(r=p.current)||void 0===r?void 0:r.clientHeight)&&void 0!==n?n:0)<=o?s=d+1:f=d-1}a(u.slice(0,Math.max(d-l,0)).trim()+i)}),[i,g,c,u]);return n.useEffect((()=>{b();const e=((e,t)=>{let r;const n=()=>{r=void 0,e()};return()=>{const a=null==r;clearTimeout(r),r=setTimeout(n,t),a&&e()}})(b,a);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[b,a]),g?n.createElement(l,f,m.current):null};function u(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var d=u((()=>/^https?:\/\/(localhost|0|10|127|192(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1?\])/gi));const p="undefined"==typeof window,m=e=>"function"==typeof e,f=e=>"object"==typeof e,g=e=>null==e,b=e=>f(e)?e.url:e,h=function(){return a.css`
    @media (max-width: 48em) {
      ${a.css(...arguments)};
    }
  `},y=e=>{let{apiKey:t,contrast:r=!1,data:n,endpoint:a,force:o,headers:l,media:s,prerender:c,proxy:u,ttl:d,url:p}=e;return i.getApiUrl(p,{apiKey:t,audio:s.includes("audio"),data:n,endpoint:a,force:o,headers:l,iframe:s.includes("iframe"),palette:r,prerender:c,proxy:u,screenshot:s.includes("screenshot"),ttl:d,video:s.includes("video")})},$=e=>"large"===e,v=e=>"small"===e,w=e=>d().test(e)?e:`https://images.weserv.nl/?${new URLSearchParams({url:e,default:e,l:9,af:"",il:"",n:-1}).toString()}`,x=!p&&"IntersectionObserver"in window,k=e=>{const t=parseInt(e,10);return[Math.floor(t/3600),Math.floor(t/60)%60,t%60].filter(((e,t)=>e>0||t>0)).map((e=>e>=10?e:`0${e}`)).join(":")},z=(e,t,r)=>{switch(!0){case e<=t:return t;case e>=r:return r;default:return e}},E="microlink_card",S=`${E}__content`,O=`${E}__media`,C=`${O}__controls`,P={main:E,content:S,title:`${S}_title`,description:`${S}_description`,url:`${S}_url`,mediaWrapper:`${O}_wrapper`,media:O,image:`${O}_image`,videoWrapper:`${O}_video_wrapper`,video:`${O}_video`,audioWrapper:`${O}_audio_wrapper`,audio:`${O}_audio`,mediaControls:C,playbackControl:`${C}_playback`,volumeControl:`${C}_volume`,rwControl:`${C}_rewind`,ffwControl:`${C}_fast_forward`,rateControl:`${C}_rate`,progressBar:`${C}_progress_bar`,progressTime:`${C}_progress_time`,spinner:`${C}_spinner`,iframe:`${E}__iframe`},M=["useNanoClamp","children"];function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?j(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const _=a.styled((e=>{let{children:t,className:r,lines:a}=e;return g(t)?null:n.createElement(c,{className:r,lines:a,text:t,is:"p"})}))`
  &&& {
    text-align: inherit;
    font-weight: inherit;
    font-family: inherit;
    color: inherit;
    margin: 0;

    ${e=>{let{$useNanoClamp:t}=e;return!t&&a.css`
        overflow: hidden;
        white-space: nowrap;
        text-overflow: ellipsis;
      `}}
  }
`,N=t=>{let{useNanoClamp:a=!0,children:i}=t,o=r(t,M);const l=a?o:D(D({},o),{},{as:"p",title:i});return n.createElement(_,e({$useNanoClamp:a},l),i)},R={short:"100ms",medium:"150ms",long:"300ms"},F={short:"cubic-bezier(.25,.8,.25,1)",medium:"cubic-bezier(.25,.8,.25,1)",long:"cubic-bezier(.4, 0, .2, 1)"},T=(e,t)=>{const r=`${R[t]} ${F[t]}`;return e.map((e=>`${e} ${r}`)).join(", ")},L=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return T(t,"short")},V=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return T(t,"medium")},I=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return T(t,"long")},U="InterUI, -apple-system, BlinkMacSystemFont, 'Helvetica Neue', 'Segoe UI', Oxygen, Ubuntu, Cantarell, 'Open Sans', sans-serif",W="'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",B=["autoPlay","children","controls","loop","mediaRef","muted","playsInline","size"];function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function H(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?A(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const X={},q=n.createContext(X),K=e=>{let{autoPlay:t,children:a,controls:i,loop:o,mediaRef:l,muted:s,playsInline:c,size:u}=e,d=r(e,B);const[p,m]=n.useState(X),f=n.useCallback((e=>m((t=>H(H({},t),e)))),[]),g=n.useMemo((()=>({autoPlay:t,controls:i,loop:o,mediaRef:l,muted:s,playsInline:c,size:u})),[t,i,o,l,s,c,u]),b=n.useMemo((()=>({props:g,state:p,updateState:f})),[g,p,f]);return n.createElement(q.Provider,{value:b},a(d))},J=/^www\./,G="16px",Q=a.css`
  ${h`
    > p {
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }
  `};
`,Y=a.styled("div").attrs({className:P.content})`
  display: flex;
  padding: 10px 15px;
  min-width: 0;
  box-sizing: border-box;
  ${e=>{let{$cardSize:t}=e;return a.css`
    flex: ${$(t)?"0 0 125px":1};
    justify-content: ${v(t)?"space-between":"space-around"};
    flex-direction: ${v(t)?"row":"column"};
    align-items: ${v(t)?"center":"stretch"};
  `}};
`,Z=a.styled("header").attrs({className:P.title})`
  text-align: left;
  font-weight: bold;
  margin: 0;
  width: 100%;
  ${e=>{let{$cardSize:t}=e;return a.css`
    flex-grow: ${v(t)?.8:1.2};
    font-size: ${v(t)?"15px":"16px"};

    ${v(t)&&a.css`
      min-width: 0;
      padding-right: 14px;
    `}
  `}}
`,ee=a.styled("div").attrs({className:P.description})`
  text-align: left;
  font-size: 14px;
  flex-grow: 2;
  margin: auto 0;
  line-height: 18px;
  font-weight: normal;
  ${e=>{let{$cardSize:t}=e;return!$(t)&&Q}};
`,te=a.styled("footer").attrs({className:P.url})`
  display: flex;
  align-items: center;
  justify-content: space-between;
  text-align: left;
  margin: 0;
  flex-grow: 0;
  font-weight: normal;
  ${e=>{let{$cardSize:t}=e;return a.css`
    font-size: ${v(t)?"10px":"12px"};
    ${!v(t)&&"width: 100%;"}
  `}};
`,re=a.styled(N)`
  opacity: 0.75;
  transition: ${V("opacity")};
  will-change: opacity;

  .${P.main}:hover & {
    opacity: 1;
  }
`,ne=a.styled("span").attrs({title:"microlink.io"})`
  background: url('https://cdn.microlink.io/logo/logo.svg') no-repeat center
    center;
  display: block;
  margin-left: 15px;
  transition: ${V("filter","opacity")};
  will-change: filter, opacity;
  &:not(:hover) {
    filter: grayscale(100%);
    opacity: 0.75;
  }

  min-width: ${G};
  width: ${G};
  background-size: ${G};
  height: ${"12px"};
`,ae=()=>{const{state:{description:e,title:t,url:r},props:{size:a}}=n.useContext(q),i=v(a),o=n.useMemo((()=>(e=>{if(g(e))return"";const{hostname:t}=new URL(e);return t.replace(J,"")})(r)),[r]),l=n.useCallback((e=>{e.preventDefault(),window.open("https://www.microlink.io","_blank")}),[]);return n.createElement(Y,{$cardSize:a},n.createElement(Z,{$cardSize:a},n.createElement(N,{$useNanoClamp:!1},t)),!i&&n.createElement(ee,{$cardSize:a},n.createElement(N,{lines:2},e)),n.createElement(te,{$cardSize:a},n.createElement(re,{$useNanoClamp:!1},o),n.createElement(ne,{onClick:l})))},ie=a.keyframes`
  0% {
    background: #e1e8ed;
  }
  70% {
    background: #cdd4d8;
  }
  100% {
    background: #e1e8ed;
  }
`,oe=a.keyframes`
  0% {
    background: #e1e8ed;
  }
  70% {
    background: #dce3e8;
  }
  100% {
    background: #e1e8ed;
  }
`,le=a.css`
  animation: ${ie} .75s linear infinite;
`,se=a.css`
  animation: ${oe} 1.25s linear infinite;
`,ce=a.styled("img")`
  height: 1px;
  width: 1px;
  position: absolute;
  z-index: -1;
`,ue=a.css`
  &::after {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
    background: #e1e8ed;
    z-index: 1;
    transition: ${V("opacity","visibility")};
    will-change: opacity;

    ${e=>{let{$isLoading:t}=e;return a.css`
      opacity: ${t?1:0};
      visibility: ${t?"visible":"hidden"};
    `}};
  }
`,de={small:a.css`
    flex: 0 0 48px;
  `,normal:a.css`
    flex: 0 0 125px;

    ${h`
      flex: 0 0 92px;
    `}
  `,large:a.css`
    flex: 1;

    &::before {
      padding-bottom: 0;
    }
  `},pe=a.styled("div")`
  background: transparent no-repeat center center / cover;
  display: block;
  overflow: hidden;
  height: auto;
  position: relative;

  &::before {
    content: '';
    padding-bottom: 100%;
    display: block;
  }

  ${e=>{let{$cardSize:t}=e;return de[t]}};

  ${ue};
`,me=t=>{const{props:{size:r}}=n.useContext(q);return n.createElement(pe,e({$cardSize:r},t))},fe=a.styled(me).attrs({className:`${P.media} ${P.image}`})`
  background-image: ${e=>{let{url:t}=e;return t?`url('${w(t)}')`:""}};
`,ge=t=>{const{state:{imageUrl:r}}=n.useContext(q);return n.createElement(fe,e({url:r},t))};var be;const he=a.styled(ge)`
  ${se};
`,ye=a.styled("span")`
  opacity: 0.8;
  height: 16px;
  width: ${e=>{let{$cardSize:t}=e;return v(t)?"75%":"60%"}};
  display: block;
  background: #e1e8ed;
  margin: ${e=>{let{$cardSize:t}=e;return v(t)?"0 20px 0 0":"2px 0 8px"}};
  ${le};

  ${e=>{let{$cardSize:t}=e;return!$(t)&&"\n    height: 15px;\n  "}};
`,$e=a.styled("span")`
  opacity: 0.8;
  height: 14px;
  width: 95%;
  display: block;
  position: relative;
  ${le};
  animation-delay: 0.125s;
`,ve=a.styled("span")`
  opacity: 0.8;
  height: 12px;
  width: 30%;
  display: block;
  ${le} animation-delay: .25s;

  ${e=>{let{$cardSize:t}=e;return!$(t)&&"\n    height: 10px;\n  "}};
`,we=()=>{const{props:{size:e}}=n.useContext(q),t=v(e);return n.createElement(n.Fragment,null,n.createElement(he,{$cardSize:e}),n.createElement(Y,{$cardSize:e},n.createElement(ye,{$cardSize:e}),t?null:n.createElement(n.Fragment,null,n.createElement($e,{$cardSize:e}),n.createElement($e,{$cardSize:e,style:{marginBottom:"12px"}})),be||(be=n.createElement(ve,null))))},xe=a.styled("div")`
  backface-visibility: hidden;
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
  transition: ${L("transform")};
  will-change: transform;

  > svg {
    display: block;
  }

  &:active:not(:focus) {
    transform: scale(0.9);
  }
`;var ke,ze;const Ee=t=>n.createElement("svg",e({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 14"},t),ke||(ke=n.createElement("path",{fill:"#FFF",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M15.5 6.205l-.705-.705L13 7.295 11.205 5.5l-.705.705L12.295 8 10.5 9.795l.705.705L13 8.705l1.795 1.795.705-.705L13.705 8 15.5 6.205zM9 15a.5.5 0 01-.355-.15L4.835 11H1.5a.5.5 0 01-.5-.5v-5a.5.5 0 01.5-.5h3.335l3.81-3.85a.5.5 0 01.705 0 .5.5 0 01.15.35v13a.5.5 0 01-.5.5z",transform:"translate(-1 -1)"}))),Se=t=>n.createElement("svg",e({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 14"},t),ze||(ze=n.createElement("path",{fill:"#FFF",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M13.58 4.04l-.765.645a5 5 0 01-.145 6.615l.735.7a6 6 0 00.175-7.94v-.02zM10.79 6a3 3 0 01-.09 3.97l.735.68a4 4 0 00.115-5.295L10.79 6zM9 15a.5.5 0 01-.355-.15L4.835 11H1.5a.5.5 0 01-.5-.5v-5a.5.5 0 01.5-.5h3.335l3.81-3.85a.5.5 0 01.705 0 .5.5 0 01.15.35v13a.5.5 0 01-.5.5z",transform:"translate(-1 -1)"}))),Oe=a.styled("div")`
  z-index: 2;
  position: absolute;
  bottom: ${e=>{let{$cardSize:t}=e;return $(t)?18:14}}px;
  left: 0;
  right: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  transition: ${V("opacity")};
  will-change: opacity;
`,Ce=a.styled("svg")`
  stroke: #fff;
`,Pe=a.styled(xe).attrs({className:P.volumeControl})`
  ${Ce} {
    width: ${e=>{let{$cardSize:t}=e;return $(t)?16:14}}px;
    height: ${e=>{let{$cardSize:t}=e;return $(t)?16:14}}px;

    ${e=>{let{$cardSize:t}=e;return!$(t)&&h`
      width: 12px;
      height: 12px;
    `}}
  }
`,Me=a.styled(xe).attrs({className:P.rateControl})`
  font-size: ${e=>{let{$cardSize:t}=e;return $(t)?12:10}}px;
  min-width: ${e=>{let{$cardSize:t}=e;return $(t)?33:28}}px;
  line-height: 1;
  font-weight: bold;
  border: 1.5px solid #fff;
  border-radius: 9999px;
  padding: 1px 5px;
  text-align: center;
  color: #fff;
  margin-left: 10px;

  ${e=>{let{$cardSize:t}=e;return!$(t)&&h`
    font-size: 8px;
    margin-left: 8px;
    min-width: 23px;
  `}}
`,je=a.styled("span").attrs({className:P.progressTime})`
  margin: ${e=>{let{right:t}=e;return t?"0 0 0 auto":"0 auto 0 0"}};
  font-family: ${W};
  font-size: 12px;
  padding: 0 16px;
  color: #fff;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
`,De=e=>{let{$cardSize:t,currentTime:r,endTime:a,isMuted:i,onMuteClick:o,onPlaybackRateClick:l,playbackRate:s}=e;const c=n.useMemo((()=>i?Ee:Se),[i]),u=n.useMemo((()=>$(t)),[t]);return n.createElement(Oe,{$cardSize:t},u&&n.createElement(je,null,r),n.createElement(Pe,{title:i?"Unmute":"Mute",$cardSize:t,onClick:o},n.createElement(Ce,{as:c})),n.createElement(Me,{title:"Playback Rate",$cardSize:t,onClick:l},n.createElement("span",null,s,"x")),u&&n.createElement(je,{right:!0},a))},_e=["isPlaying"];var Ne,Re;const Fe=t=>n.createElement("svg",e({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 20"},t),Ne||(Ne=n.createElement("path",{fill:"#FFF",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M12 6h-2a2 2 0 00-2 2v16a2 2 0 002 2h2a2 2 0 002-2V8a2 2 0 00-2-2zm10 0h-2a2 2 0 00-2 2v16a2 2 0 002 2h2a2 2 0 002-2V8a2 2 0 00-2-2z",transform:"translate(-8 -6)"}))),Te=t=>n.createElement("svg",e({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 21 24"},t),Re||(Re=n.createElement("path",{fill:"#FFF",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M7 28a1 1 0 01-1-1V5a1 1 0 011.501-.865l19 11a1 1 0 010 1.73l-19 11A.998.998 0 017 28z",transform:"translate(-6 -4)"}))),Le={large:"50px",normal:"35px",small:"20px"},Ve=a.styled("svg")`
  stroke: #fff;
`,Ie=a.styled(xe).attrs({className:P.playbackControl})`
  ${Ve} {
    ${e=>{let{$cardSize:t}=e;return a.css`
      width: ${Le[t]};
      height: ${Le[t]};
      padding: ${$(t)?0:"8px"};

      ${!$(t)&&!v(t)&&h`
        width: calc(${Le.small} * 1.2);
        height: calc(${Le.small} * 1.2);
      `}
    `}}
  }
`,Ue=t=>{let{isPlaying:a}=t,i=r(t,_e);const o=n.useMemo((()=>a?Fe:Te),[a]);return n.createElement(Ie,e({title:a?"Pause":"Play"},i),n.createElement(Ve,{as:o}))},We={normal:.8,small:.9},Be=a.styled("div").attrs((e=>{let{isVisible:t,positionX:r}=e;return{style:{left:r,transform:`scale(${t?1:.5}) translate(-50%, -50%)`,opacity:t?1:0,visibility:t?"visible":"hidden"}}}))`
  position: absolute;
  top: 50%;
  background: #ffffff;
  border-radius: 50%;
  transform-origin: center center;
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
  transition: ${L("transform","opacity","visibility")};
  will-change: left, transform, opacity, visibility;
  backface-visibility: hidden;
  z-index: 3;

  ${e=>{let{$cardSize:t}=e;const r=(n=t,Math.floor(12*(We[n]||1)));var n;return a.css`
      height: ${r}px;
      width: ${r}px;
    `}}
`,Ae=["isDragging","isVisible","label","positionX","size"],He={normal:.8},Xe=a.styled("span").attrs((e=>{let{position:t,isDragging:r,visible:n}=e;return{style:{left:`${t}px`,top:n?"-4px":"0px",visibility:n?"visible":"hidden",opacity:n?1:0,transform:`translate(-50%, ${r?-110:-100}%)`}}}))`
  position: absolute;
  background: rgba(24, 25, 25, 0.75);
  color: #fff;
  text-shadow: 0 1px 2px rgba(24, 25, 25, 0.15);
  padding: 2px 3px;
  border-radius: 4px;
  font-family: ${W};
  font-size: ${e=>{let{$cardSize:t}=e;return 11*(He[t]||1)}}px;
  line-height: 1;
  transition: ${V("opacity","visibility","transform")},
    ${I("top")};
  will-change: top, left, visibility, opacity, transform;
  backface-visibility: hidden;
`,qe=n.forwardRef(((t,a)=>{let{isDragging:i,isVisible:o,label:l,positionX:s,size:c}=t,u=r(t,Ae);return n.createElement(n.Fragment,null,n.createElement(Xe,e({visible:o,position:s,$cardSize:c,ref:a,isDragging:i},u),l))}));qe.displayName="Tooltip";const Ke=["key"],Je={normal:.7,small:.6},Ge={small:.9,large:1.4},Qe=e=>Math.floor(6*(Ge[e]||1)),Ye=a.styled("div").attrs((()=>({className:P.progressBar})))`
  position: relative;
  padding: ${6}px ${3}px ${3}px;
  z-index: 2;
  backface-visibility: hidden;
`,Ze=a.styled("div").attrs((e=>{let{$cardSize:t,isDragging:r}=e;if(r){return{style:{height:`${Qe(t)}px`}}}return{}}))`
  background: transparent;
  border-radius: 9999px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
  background: rgba(255, 255, 255, 0.15);
  transition: ${L("height")};
  will-change: height;
  pointer-events: none;
  position: relative;

  ${e=>{let{$cardSize:t}=e;const r=(n=t,Math.floor(6*(Je[n]||1)));var n;const i=Qe(t);return a.css`
      height: ${r}px;

      ${Ye}:hover & {
        height: ${i}px;
      }
    `}}
`,et=a.styled("div")`
  border-radius: inherit;
  height: 100%;
  position: relative;
  overflow: hidden;
`,tt=a.styled("div").attrs((e=>{let{maskScale:t}=e;return{style:{transform:`scaleX(${t})`}}}))`
  position: absolute;
  left: 0;
  top: -50%;
  height: 200%;
  width: 100%;
  background: #ffffff;
  transform-origin: left center;
  will-change: transform;
`,rt=a.styled("div").attrs((e=>{let{cursorRatio:t,isHovering:r,progressPercent:n}=e;return{style:{left:n,transform:`scaleX(${t})`,opacity:r?1:0,visibility:r?"visible":"hidden"}}}))`
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  background: rgba(255, 255, 255, 0.4);
  transform-origin: left center;
  transition: ${L("opacity","visibility")};
  will-change: left, transform, opacity, visible;
`,nt=a.styled("div").attrs((e=>{let{start:t,end:r}=e;return{style:{left:`${t}px`,right:`${r}px`}}}))`
  background: rgba(255, 255, 255, 0.35);
  position: absolute;
  top: 0;
  bottom: 0;
`,at=t=>{let{bufferedMedia:a,cursorX:i,duration:o,hoveredTime:l,isDragging:s,isHovering:c,onClick:u,onMouseDown:d,onMouseOver:p,progress:m,showTooltip:f}=t;const{props:{size:g}}=n.useContext(q),b=n.useRef(),h=n.useRef(),y=n.useMemo((()=>v(g)),[g]),$=n.useCallback((()=>b.current?b.current.getBoundingClientRect().width-6:0),[]),w=n.useMemo((()=>z(m/o,0,1)),[o,m]),x=n.useMemo((()=>`${z(100*w,1,99)}%`),[w]),E=n.useMemo((()=>{if(b.current){const e=$(),t=w*e,r=i-t;if(r>0)return z((r/(e-t)).toFixed(3),0,.99)}return 0}),[i,$,w]),S=n.useMemo((()=>{const e=$();return a.map(((t,r)=>({key:r,start:t.start*e,end:e-t.end*e})))}),[a,$]),O=n.useMemo((()=>k(l)),[l]),C=n.useMemo((()=>{if(b.current&&h.current){const e=$(),t=h.current.getBoundingClientRect().width/2;return z(i,t,e-t)}return 0}),[i,$]),P=n.useMemo((()=>({onClick:u,onMouseDown:d,onMouseOver:p})),[u,d,p]),M=n.useMemo((()=>s||c),[s,c]);return n.createElement(Ye,e({$cardSize:g,ref:b},P),n.createElement(Ze,{$cardSize:g,isDragging:s},n.createElement(et,null,n.createElement(rt,{cursorRatio:E,isHovering:c,progressPercent:x}),S.map((t=>{let{key:a}=t,i=r(t,Ke);return n.createElement(nt,e({key:a},i))})),n.createElement(tt,{maskScale:w})),n.createElement(Be,{$cardSize:g,isVisible:M,positionX:x}),!y&&n.createElement(qe,{isDragging:s,isVisible:M,label:O,positionX:C,ref:h,size:g})))};var it,ot;const lt=["$cardSize"],st=["$cardSize"],ct=["type","$cardSize"],ut=t=>{let a=r(t,lt);return n.createElement("svg",e({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 29"},a),it||(it=n.createElement("path",{fill:"#FFF",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M4 18c0 6.627 5.373 12 12 12s12-5.373 12-12S22.627 6 16 6h-4V1L6 7l6 6V8h4c5.523 0 10 4.477 10 10s-4.477 10-10 10S6 23.523 6 18H4zm15.63 4.13a2.84 2.84 0 01-1.28-.27 2.44 2.44 0 01-.89-.77 3.57 3.57 0 01-.52-1.25 7.69 7.69 0 01-.17-1.68 7.83 7.83 0 01.17-1.68c.094-.445.27-.87.52-1.25.23-.325.535-.59.89-.77.4-.188.838-.28 1.28-.27a2.44 2.44 0 012.16 1 5.23 5.23 0 01.7 2.93 5.23 5.23 0 01-.7 2.93 2.44 2.44 0 01-2.16 1.08zm0-1.22c.411.025.8-.19 1-.55a3.38 3.38 0 00.37-1.51v-1.38a3.31 3.31 0 00-.29-1.5 1.23 1.23 0 00-2.06 0 3.31 3.31 0 00-.29 1.5v1.38a3.38 3.38 0 00.29 1.51c.195.356.575.57.98.55zm-9 1.09v-1.18h2v-5.19l-1.86 1-.55-1.06 2.32-1.3H14v6.5h1.78V22h-5.15z",transform:"translate(-4 -1)"})))},dt=t=>{let a=r(t,st);return n.createElement("svg",e({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 29"},a),ot||(ot=n.createElement("path",{fill:"#FFF",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M26 18c0 5.523-4.477 10-10 10S6 23.523 6 18 10.477 8 16 8h4v5l6-6-6-6v5h-4C9.373 6 4 11.373 4 18s5.373 12 12 12 12-5.373 12-12h-2zm-6.36 4.13a2.81 2.81 0 01-1.28-.27 2.36 2.36 0 01-.89-.77 3.39 3.39 0 01-.47-1.25 7.12 7.12 0 01-.17-1.68 7.24 7.24 0 01.17-1.68 3.46 3.46 0 01.52-1.25 2.36 2.36 0 01.89-.77c.4-.19.838-.282 1.28-.27a2.44 2.44 0 012.16 1 5.31 5.31 0 01.7 2.93 5.31 5.31 0 01-.7 2.93 2.44 2.44 0 01-2.21 1.08zm0-1.22a1 1 0 001-.55c.22-.472.323-.99.3-1.51v-1.38a3.17 3.17 0 00-.3-1.5 1.22 1.22 0 00-2.05 0 3.18 3.18 0 00-.29 1.5v1.38a3.25 3.25 0 00.29 1.51 1 1 0 001.05.55zm-7.02-3.49c.355.035.71-.06 1-.27a.84.84 0 00.31-.68v-.08a.94.94 0 00-.3-.74 1.2 1.2 0 00-.83-.27 1.65 1.65 0 00-.89.24 2.1 2.1 0 00-.68.68l-.93-.83a5.37 5.37 0 01.44-.51 2.7 2.7 0 01.54-.4 2.55 2.55 0 01.7-.27 3.25 3.25 0 01.87-.1 3.94 3.94 0 011.06.14c.297.078.576.214.82.4.224.168.408.383.54.63.123.26.184.543.18.83a2 2 0 01-.11.67 1.82 1.82 0 01-.32.52 1.79 1.79 0 01-.47.36 2.27 2.27 0 01-.57.2V18c.219.04.431.11.63.21a1.7 1.7 0 01.85.93c.084.234.124.481.12.73a2 2 0 01-.2.92 2 2 0 01-.58.72 2.66 2.66 0 01-.89.45 3.76 3.76 0 01-1.15.16 4.1 4.1 0 01-1-.11 3.1 3.1 0 01-.76-.31 2.76 2.76 0 01-.56-.45 4.22 4.22 0 01-.44-.55l1.07-.81c.082.147.175.288.28.42.105.128.226.243.36.34.137.097.29.171.45.22a2 2 0 00.57.07 1.45 1.45 0 001-.3 1.12 1.12 0 00.34-.85v-.08a1 1 0 00-.37-.8 1.78 1.78 0 00-1.06-.28h-.76v-1.21h.74z",transform:"translate(-4 -1)"})))},pt=a.styled("svg")`
  stroke: #fff;
  width: ${e=>{let{$cardSize:t}=e;return $(t)?30:24}}px;
  height: ${e=>{let{$cardSize:t}=e;return $(t)?30:24}}px;

  ${e=>{let{$cardSize:t}=e;return!$(t)&&h`
    width: 0;
    height: 0;
  `}}
`,mt=a.styled(xe)`
  margin: 0 ${e=>{let{$cardSize:t}=e;return $(t)?"28px":"3px"}};
`,ft=t=>{let{type:a="rewind",$cardSize:i}=t,o=r(t,ct);const l=n.useMemo((()=>"rewind"===a?ut:dt),[a]);return n.createElement(mt,e({title:"rewind"===a?"Rewind":"Forward",$cardSize:i},o),n.createElement(pt,{as:l,$cardSize:i}))};var gt;const bt={normal:.8,small:.6},ht={normal:.9,small:.8},yt=a.keyframes`
  100% {
    transform: rotate(360deg);
  }
`,$t=a.keyframes`
  0% {
    stroke-dasharray: 1, 150;
    stroke-dashoffset: 0;
  }
  50% {
    stroke-dasharray: 90, 150;
    stroke-dashoffset: -35;
  }
  100% {
    stroke-dasharray: 90, 150;
    stroke-dashoffset: -124;
  }
`,vt=a.styled(xe).attrs((e=>{let{isVisible:t}=e;return{style:{opacity:t?1:0,visibility:t?"visible":"hidden"}}}))((e=>{let{$cardSize:t}=e;const r=`${(e=>Math.floor(12*(ht[e]||1)))(t)}px`,n=`${(e=>Math.floor(6*(bt[e]||1)))(t)}px`;return a.css`
    position: absolute;
    width: ${r};
    right: ${n};
    top: ${n};
    transition: ${V("opacity","visibility")};
    will-change: opacity, visibility;
    pointer-events: none;
  `})),wt=a.styled("svg")`
  width: 100%;
  animation: ${yt} 2s linear infinite;
  will-change: transform;
`,xt=a.styled("circle")`
  stroke: #fff;
  stroke-linecap: round;
  stroke-width: 7;
  fill: none;
  animation: ${$t} 1.5s ease-in-out infinite;
  will-change: stroke-dasharray, stroke-dashoffset;
`,kt=e=>{let{size:t,isVisible:r}=e;return n.createElement(vt,{$cardSize:t,className:P.spinner,isVisible:r},gt||(gt=n.createElement(wt,{viewBox:"0 0 50 50"},n.createElement(xt,{cx:"25",cy:"25",r:"20"}))))},zt=32,Et=37,St=39,Ot=77,Ct=a.styled("div").attrs({className:P.mediaControls})`
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  transition: ${I("background")}, ${V("opacity")};
  will-change: background;
  display: flex;
  flex-direction: column;
  pointer-events: auto;

  ${e=>{let{hasInteracted:t,isDragging:r,isPlaying:n}=e;const i="rgba(0, 0, 0, 0.35)",o=t&&!n;return a.css`
      .${P.main}:hover & {
        background: ${r?"rgba(0, 0, 0, 0.2)":i};
      }

      .${P.main}:not(:hover) & {
        opacity: ${!t||o?1:0};
        ${o&&`background: ${i}`};
      }
    `}}
`,Pt=a.styled("div")`
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 2;
`,Mt=a.styled("div")`
  flex: 1;

  ${e=>{let{isVisible:t}=e;return!t&&a.css`
      *[class*='${P.mediaControls}']:not(.${P.progressTime}) {
        transition: ${V("opacity","visibility")};
        opacity: 0;
        visibility: hidden;
      }
    `}}
`,jt=t=>{let{MediaComponent:r,mediaProps:a}=t;const{props:{autoPlay:i,controls:o,mediaRef:l,muted:s,loop:c,size:u}}=n.useContext(q),[d,p]=n.useState(0),[f,g]=n.useState(0),[b,h]=n.useState([]),[y,$]=n.useState(0),[w,x]=n.useState(0),[E,S]=n.useState(i),[O,C]=n.useState(s),[M,j]=n.useState(!1),[D,_]=n.useState(!1),[N,R]=n.useState(!1),[F,T]=n.useState(1),[L,V]=n.useState(i),[I,U]=n.useState(!1),W=n.useRef(),B=n.useCallback((e=>{W.current=e,l&&(m(l)?l(e):l.current=e)}),[l]),A=n.useMemo((()=>!v(u)),[u]),H=n.useMemo((()=>({onCanPlay:()=>j(!1),onLoadedMetadata:e=>p(e.currentTarget.duration),onPause:()=>S(!1),onPlay:()=>S(!0),onPlaying:()=>j(!1),onProgress:e=>h(e.currentTarget.buffered),onRateChange:e=>T(e.currentTarget.playbackRate),onTimeUpdate:e=>g(e.currentTarget.currentTime),onVolumeChange:e=>C(e.currentTarget.muted),onWaiting:e=>j(!0)})),[]),X=n.useCallback((e=>{if(W.current){const t=e.currentTarget.getBoundingClientRect(),r=z(Math.floor(e.clientX-t.left),0,t.width);return{cursor:r,time:r/t.width*W.current.duration}}return{cursor:0,time:0}}),[]),K=n.useCallback((()=>{W.current&&(W.current.paused?(L||V(!0),W.current.play()):W.current.pause())}),[L]),J=n.useCallback((e=>{if(W.current){const t=z(e,0,W.current.duration);W.current.currentTime=t,g(t)}}),[]),G=n.useCallback(((e,t)=>{if(e.preventDefault(),e.stopPropagation(),W.current){const{currentTime:e}=W.current;J("rewind"===t?e-10:e+30)}}),[J]),Q=n.useCallback((e=>{e.preventDefault(),e.stopPropagation(),W.current&&(W.current.muted=!W.current.muted)}),[]),Y=n.useCallback((e=>{e.preventDefault(),e.stopPropagation(),W.current&&(W.current.playbackRate=(e=>{switch(e){case 1:return 1.25;case 1.25:return 1.5;case 1.5:return 2;default:return 1}})(W.current.playbackRate))}),[]),Z=n.useCallback((e=>{e.preventDefault(),e.stopPropagation(),R(!1)}),[]),ee=n.useCallback((e=>{e.preventDefault(),e.stopPropagation(),R(!0);const{time:t}=X(e);J(t)}),[X,J]),te=n.useCallback((()=>_(!0)),[]),re=n.useCallback((e=>{e.preventDefault(),e.stopPropagation(),N?R(!1):K()}),[N,K]),ne=n.useCallback((e=>{if((N||D)&&W.current){e.preventDefault();const{cursor:t,time:r}=X(e);x(r),$(t),N&&(W.current.paused||(W.current.pause(),U(!0)),J(r))}}),[X,N,D,J]),ae=n.useCallback((e=>{N&&0===e.buttons&&R(!1)}),[N]),ie=n.useCallback((e=>{if(N)return;const{keyCode:t}=e;if([zt,Et,St,Ot].includes(t)&&W.current)switch(e.preventDefault(),t){case zt:K();break;case Et:J(W.current.currentTime-5);break;case St:J(W.current.currentTime+5);break;case Ot:W.current.muted=!W.current.muted}}),[N,J,K]),oe=n.useMemo((()=>({onClick:re,onKeyDown:ie,onMouseMove:ne,onMouseOut:()=>_(!1),onMouseOver:ae})),[re,ie,ne,ae]),le=n.useMemo((()=>L?{title:""}:{}),[L]),se=n.useMemo((()=>b&&b.length&&W.current?[...Array(b.length).keys()].map((e=>({start:b.start(e)/W.current.duration,end:b.end(e)/W.current.duration}))):[]),[b]),ce=n.useMemo((()=>k(f||0)),[f]),ue=n.useMemo((()=>k(d||0)),[d]),de=n.useMemo((()=>({$cardSize:u,currentTime:ce,endTime:ue,isMuted:O,onMuteClick:Q,onPlaybackRateClick:Y,playbackRate:F})),[ce,ue,O,Q,Y,F,u]),pe=n.useMemo((()=>({bufferedMedia:se,cursorX:y,duration:d,hoveredTime:w,isDragging:N,isHovering:D,onClick:Z,onMouseDown:ee,onMouseOver:te,progress:f,showTooltip:N||D})),[se,y,d,w,N,D,Z,ee,te,f]);return n.useEffect((()=>{!N&&I&&W.current&&W.current.paused&&(W.current.play(),U(!1))}),[I,N]),n.createElement(n.Fragment,null,n.createElement(r,e({},a,H,{ref:B,autoPlay:i,loop:c,muted:s})),o&&n.createElement(Ct,e({},le,{tabIndex:0,hasInteracted:L,isDragging:N,isPlaying:E},oe),n.createElement(kt,{size:u,isVisible:M}),L?n.createElement(n.Fragment,null,n.createElement(Mt,{isVisible:!N},n.createElement(Pt,null,A&&n.createElement(ft,{className:P.rwControl,type:"rewind",$cardSize:u,onClick:e=>G(e,"rewind")}),n.createElement(Ue,{$cardSize:u,isPlaying:E}),A&&n.createElement(ft,{className:P.ffwControl,type:"fastforward",$cardSize:u,onClick:e=>G(e,"fastforward")})),A&&n.createElement(De,de)),n.createElement(at,pe)):n.createElement(Pt,null,n.createElement(Ue,{$cardSize:u}))))},Dt=a.styled("video")`
  width: 100%;
  height: 100%;
  object-fit: cover;
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;

  &::media-controls-start-playback-button {
    display: none;
    appearance: none;
  }
`,_t={video:t=>{const{state:{imageUrl:r,playsInline:a,videoUrl:i}}=n.useContext(q),o=n.useMemo((()=>{const e={className:`${P.media} ${P.video}`,src:i,playsInline:a};return r&&(e.poster=w(r)),e}),[r,a,i]);return n.createElement(me,e({className:`${P.mediaWrapper} ${P.videoWrapper}`},t),n.createElement(jt,{MediaComponent:Dt,mediaProps:o}))},image:ge,audio:t=>{const{state:{audioUrl:r}}=n.useContext(q),a=n.useMemo((()=>({className:`${P.media} ${P.audio}`,src:r})),[r]);return n.createElement(ge,e({className:`${P.mediaWrapper} ${P.audioWrapper}`},t),n.createElement(jt,{MediaComponent:"audio",mediaProps:a}))}},Nt=()=>{const{state:{imageUrl:e,isAudio:t,isVideo:r}}=n.useContext(q),[a,i]=n.useState(null!==b(e));const o=((e,t)=>e?"audio":t?"video":"image")(t,r),l=_t[o];return n.createElement(n.Fragment,null,n.createElement(l,{$isLoading:a}),a&&n.createElement(ce,{src:e,onLoad:()=>i(!1)}))},Rt=["href","rel","target"];function Ft(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Tt(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?Ft(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Lt="382px",Vt=e=>{let{backgroundColor:t,color:r}=e;return a.css`
  background-color: ${t};
  border-color: ${r};
  transition-property: filter;
  will-change: filter;

  &&& {
    color: ${r};
  }

  &:hover {
    filter: brightness(90%);
  }
`},It=a.css`
  flex-direction: column;
  height: ${Lt};
  ${h`
    height: calc(${Lt} * 7/9);
  `};
`,Ut=a.css`
  transition-property: background, border-color;
  will-change: background, border-color;
  &:hover {
    background-color: var(--microlink-hover-background-color, #f5f8fa);
    border-color: var(--microlink-hover-border-color, #8899a680);
  }
`,Wt=e=>{let{$cardSize:t}=e;return a.css`
  flex-direction: ${$(t)?"column-reverse":"row-reverse"};
`},Bt=a.css((()=>`\n  max-width: var(--microlink-max-width, 500px);\n  background-color: var(--microlink-background-color, #fff);\n  border-width: var(--microlink-border-width, 1px);\n  border-style: var(--microlink-border-style, solid);\n  border-color: var(--microlink-border-color, #e1e8ed);\n  color: var(--microlink-color, #181919);\n  overflow: hidden;\n  font-family: ${U};\n  display: flex;\n  text-decoration: none;\n  opacity: 1;\n  position: relative;\n  transition-duration: ${R.medium};\n  transition-timing-function: ${F.medium};\n\n  &:active,\n  &:hover {\n    outline: 0;\n  }\n`)),At=a.styled("a")(Bt,(e=>{let{$isLoading:t,contrast:r}=e;return!t&&!r&&Ut}),(e=>{let{$cardSize:t}=e;return $(t)&&It}),(e=>{let{direction:t}=e;return"rtl"===t&&Wt}),(e=>{let{backgroundColor:t,color:r,contrast:n}=e;return n&&r&&t&&Vt}),(e=>{let{backgroundColor:t,color:r,contrast:n}=e;return n&&(!r||!t)&&Ut})),Ht=n.forwardRef(((e,t)=>{let{href:a,rel:i,target:o}=e,l=r(e,Rt);const{state:{backgroundColor:s,color:c,title:u},props:{size:d}}=n.useContext(q);return n.createElement(At,Tt(Tt(Tt({},"a"===l.as?{href:a,rel:i,target:o}:void 0),l),{},{backgroundColor:s,$cardSize:d,color:c,ref:t,title:u}))}));Ht.displayName="CardWrap",Ht.defaultProps={as:"a",rel:"noopener noreferrer",target:"_blank"};var Xt,qt,Kt;const Jt=["className","fetchData","lazy","loading","media","setData","url","apiKey"];function Gt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qt(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?Gt(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Yt=t=>{const{className:a,fetchData:o,lazy:l,loading:s,media:c,setData:u,url:d,apiKey:h}=t,$=r(t,Jt),v=n.useMemo((()=>[].concat(c)),[c]),{updateState:w}=n.useContext(q),[k,z]=n.useState(!0),[E,S]=n.useState(null),[O,C]=n.useState(!1),M=n.useMemo((()=>void 0===s),[s]),[j,D]=n.useMemo((()=>y(Qt(Qt({},t),{},{media:v}))),[v,t]),_=n.useMemo((()=>x&&(!0===l||f(l))),[l]),N=n.useMemo((()=>f(l)?l:void 0),[l]),[R,F]=((e,t)=>{const[r,a]=n.useState(!1);return[r,n.useCallback((r=>{if(e){const e=new IntersectionObserver(((e,t)=>{let[r]=e;r.isIntersecting&&(a(!0),t.unobserve(r.target))}),t);null!==r&&e.observe(r)}else a(!0)}),[e,t])]})(_,N),T=n.useMemo((()=>!_||_&&R),[_,R]),L=n.useCallback((e=>{const t=m(u)?u(e):Qt(Qt({},e),u),{title:r,description:n,url:a,video:i,audio:o,image:l,logo:s,iframe:c}=t,d=l||s||{};let p,f,h=d,y=!1,$=!1;const x=((e,t)=>{let r;for(let n=0;n<t.length;n++){const a=t[n],i=e[a];if(!g(i)){r=a;break}}return r})(t,v);switch(x){case"audio":$=!0,f=b(o);break;case"video":y=!0,p=b(i);break;case"iframe":S(c);break;default:h=((e,t)=>e[t.find((t=>!g(e[t])))])(t,v)||d}const k=b(h),{color:E,background_color:O}=h;w({url:a,color:E,title:r,description:n,imageUrl:k,videoUrl:p,audioUrl:f,isVideo:y,isAudio:$,backgroundColor:O}),z(!1)}),[w,v,u]),V=n.useCallback((()=>{if(T){z(!0);(o?i.fetchFromApi(j,D):Promise.resolve({})).then((e=>{let{data:t}=e;return L(t)})).catch((e=>{z(!1),C(!0),console.error(`\n┌───────────────┐\n│ Microlink SDK │\n└───────────────┘\n\n${e.description}\n\n${JSON.stringify(e.data)}\n\nid   ${e.headers["x-request-id"]}\nuri  ${e.url}\ncode ${e.code} (${e.statusCode})\n\nmicrolink.io/${e.code.toLowerCase()}\n`)}))}}),[D,o,j,L,T]);n.useEffect(V,[d,u,R]);const I=M?k:s;return O?n.createElement("a",e({href:d},$),d):E?(p||E.scripts.forEach((e=>{if(!document.querySelector(`script[src="${e.src}"]`)){const t=document.createElement("script");Object.keys(e).forEach((r=>t[r]=e[r])),document.body.appendChild(t)}})),n.createElement("div",e({className:P.iframe,dangerouslySetInnerHTML:{__html:E.html}},$))):n.createElement(Ht,e({className:`${P.main} ${a}`.trim(),href:d,$isLoading:I,ref:F},$),I?Xt||(Xt=n.createElement(we,null)):n.createElement(n.Fragment,null,qt||(qt=n.createElement(Nt,null)),Kt||(Kt=n.createElement(ae,null))))},Zt=e=>n.createElement(K,e,(e=>n.createElement(Yt,e)));Zt.defaultProps={className:"",apiKey:void 0,autoPlay:!0,controls:!0,direction:"ltr",lazy:!0,loop:!0,media:["iframe","video","audio","image","logo"],fetchData:!0,muted:!0,playsInline:!0,size:"normal"},Object.defineProperty(exports,"fetchFromApi",{enumerable:!0,get:function(){return i.fetchFromApi}}),exports.default=Zt,exports.getApiUrl=y,exports.imageProxy=w;
//# sourceMappingURL=microlink.min.cjs.map
